<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Validaci√≥n por elecci√≥n funcional ‚Äì Wuupi</title>

<style>
:root {
  --primary: #0c4a6e;
  --bg: #f8fafc;
  --card: #ffffff;
  --text: #1f2933;
  --muted: #64748b;
  --border: #e2e8f0;
  --radius: 14px;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg);
  color: var(--text);
}

.container {
  max-width: 820px;
  margin: auto;
  padding: 20px;
}

h1 {
  text-align: center;
  font-size: 1.9rem;
  margin-bottom: 6px;
  color: var(--primary);
}

.subtitle {
  text-align: center;
  color: var(--muted);
  margin-bottom: 26px;
}

.card {
  background: var(--card);
  border-radius: var(--radius);
  padding: 22px;
  margin-bottom: 24px;
  border: 1px solid var(--border);
}

.card h2 {
  font-size: 1.25rem;
  margin-bottom: 16px;
}

.question {
  margin-bottom: 22px;
}

.question strong {
  display: block;
  margin-bottom: 10px;
}

label {
  display: block;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
  margin-bottom: 8px;
  cursor: pointer;
}

input {
  margin-right: 10px;
  accent-color: var(--primary);
}

.section { display: none; }

button {
  width: 100%;
  padding: 14px;
  font-size: 1rem;
  background: var(--primary);
  color: #fff;
  border: none;
  border-radius: 12px;
  cursor: pointer;
}

button:hover { opacity: 0.9; }

@media (max-width: 600px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 18px; }
}
</style>
</head>

<body>
<div class="container">

<h1>Validaci√≥n por elecci√≥n funcional</h1>
<p class="subtitle">
Este cuestionario busca entender qu√© aporta m√°s valor real en tu pr√°ctica terap√©utica.
</p>

<form id="surveyForm">

<!-- PREGUNTA RA√çZ -->
<div class="card">
  <h2>1Ô∏è‚É£ Si tuvieras que quedarte solo con UNA opci√≥n en Wuupi, ¬øcu√°l elegir√≠as?</h2>

  <label><input type="radio" name="root_choice" value="Juegos de movimiento" required> Juegos de movimiento</label>
  <label><input type="radio" name="root_choice" value="Actividades educativas"> Actividades educativas</label>
  <label><input type="radio" name="root_choice" value="Herramientas para evaluar progreso"> Herramientas para evaluar progreso</label>
  <label><input type="radio" name="root_choice" value="Herramientas para comunicar avances a familias"> Herramientas para comunicar avances a familias</label>
</div>

<!-- JUEGOS DE MOVIMIENTO -->
<div id="movimiento" class="section">
<div class="card">
<h2>üéÆ Juegos de movimiento</h2>

<div class="question">
<strong>1Ô∏è‚É£ Objetivo terap√©utico</strong>
<label><input type="checkbox" name="mov_objetivo" value="Rango de movimiento"> Rango de movimiento</label>
<label><input type="checkbox" name="mov_objetivo" value="Coordinaci√≥n"> Coordinaci√≥n</label>
<label><input type="checkbox" name="mov_objetivo" value="Control postural"> Control postural</label>
<label><input type="checkbox" name="mov_objetivo" value="Atenci√≥n / seguimiento visual"> Atenci√≥n / seguimiento visual</label>
<label><input type="checkbox" name="mov_objetivo" value="Otro"> Otro</label>
</div>

<div class="question">
<strong>2Ô∏è‚É£ Adaptabilidad</strong>
<label><input type="checkbox" name="mov_adaptabilidad" value="Elegir parte del cuerpo"> Elegir parte del cuerpo</label>
<label><input type="checkbox" name="mov_adaptabilidad" value="Ajustar dificultad"> Ajustar dificultad</label>
<label><input type="checkbox" name="mov_adaptabilidad" value="Movimientos m√≠nimos"> Funcionar con movimientos m√≠nimos</label>
<label><input type="checkbox" name="mov_adaptabilidad" value="Sin instrucciones verbales"> No requerir instrucciones verbales</label>
</div>

<div class="question">
<strong>3Ô∏è‚É£ Contexto de uso</strong>
<label><input type="radio" name="mov_contexto" value="Sesi√≥n terap√©utica"> Sesi√≥n terap√©utica</label>
<label><input type="radio" name="mov_contexto" value="Aula"> Aula</label>
<label><input type="radio" name="mov_contexto" value="Casa"> Casa</label>
<label><input type="radio" name="mov_contexto" value="Uso aut√≥nomo"> Uso aut√≥nomo</label>
</div>

<div class="question">
<strong>4Ô∏è‚É£ Se√±al de √©xito</strong>
<label><input type="checkbox" name="mov_exito" value="Participaci√≥n"> El paciente particip√≥</label>
<label><input type="checkbox" name="mov_exito" value="Movimiento esperado"> Logr√≥ el movimiento esperado</label>
<label><input type="checkbox" name="mov_exito" value="Mayor tiempo"> Se mantuvo m√°s tiempo</label>
<label><input type="checkbox" name="mov_exito" value="Observ√© mejoras"> Pude observar mejoras</label>
</div>

<div class="question">
<strong>5Ô∏è‚É£ L√≠mites y frustraciones</strong>
<label><input type="checkbox" name="mov_frustracion" value="Muy repetitivo"> Muy repetitivo</label>
<label><input type="checkbox" name="mov_frustracion" value="No adaptable"> No adaptable</label>
<label><input type="checkbox" name="mov_frustracion" value="Se cansa r√°pido"> El paciente se cansa r√°pido</label>
<label><input type="checkbox" name="mov_frustracion" value="No justifica avances"> No sirve para justificar avances</label>
</div>
</div>
</div>

<!-- ACTIVIDADES EDUCATIVAS -->
<div id="educativas" class="section">
<div class="card">
<h2>üß© Actividades educativas</h2>

<div class="question">
<strong>1Ô∏è‚É£ Concepto prioritario</strong>
<label><input type="checkbox" name="edu_concepto" value="Colores"> Colores</label>
<label><input type="checkbox" name="edu_concepto" value="Formas"> Formas</label>
<label><input type="checkbox" name="edu_concepto" value="N√∫meros"> N√∫meros</label>
<label><input type="checkbox" name="edu_concepto" value="Secuencias"> Secuencias</label>
<label><input type="checkbox" name="edu_concepto" value="Causa‚Äìefecto"> Causa‚Äìefecto</label>
<label><input type="checkbox" name="edu_concepto" value="Otro"> Otro</label>
</div>

<div class="question">
<strong>2Ô∏è‚É£ Barrera actual</strong>
<label><input type="checkbox" name="edu_barrera" value="Falta de atenci√≥n"> Falta de atenci√≥n</label>
<label><input type="checkbox" name="edu_barrera" value="Dificultad motriz"> Dificultad motriz</label>
<label><input type="checkbox" name="edu_barrera" value="Falta de materiales"> Falta de materiales adecuados</label>
<label><input type="checkbox" name="edu_barrera" value="No generaliza"> No se generaliza a otros contextos</label>
</div>

<div class="question">
<strong>3Ô∏è‚É£ Interacci√≥n esperada</strong>
<label><input type="checkbox" name="edu_interaccion" value="Movimiento corporal"> Movimiento corporal</label>
<label><input type="checkbox" name="edu_interaccion" value="Mirada"> Mirada</label>
<label><input type="checkbox" name="edu_interaccion" value="Gestos simples"> Gestos simples</label>
<label><input type="checkbox" name="edu_interaccion" value="Combinaci√≥n"> Combinaci√≥n de varios</label>
</div>

<div class="question">
<strong>4Ô∏è‚É£ Adaptabilidad cognitiva</strong>
<label><input type="checkbox" name="edu_adaptabilidad" value="Distinta dificultad"> Mismo concepto, distinta dificultad</label>
<label><input type="checkbox" name="edu_adaptabilidad" value="Ritmo / est√≠mulos"> Cambiar ritmo / est√≠mulos</label>
<label><input type="checkbox" name="edu_adaptabilidad" value="Repetici√≥n"> Repetici√≥n controlada</label>
<label><input type="checkbox" name="edu_adaptabilidad" value="Multisensorial"> Refuerzo multisensorial</label>
</div>

<div class="question">
<strong>5Ô∏è‚É£ Se√±al de aprendizaje</strong>
<label><input type="checkbox" name="edu_aprendizaje" value="Correcto"> Responde correctamente</label>
<label><input type="checkbox" name="edu_aprendizaje" value="Anticipa"> Anticipa la respuesta</label>
<label><input type="checkbox" name="edu_aprendizaje" value="Aplica"> Lo aplica en otro contexto</label>
<label><input type="checkbox" name="edu_aprendizaje" value="Menos errores"> Se equivoca menos</label>
</div>
</div>
</div>

<!-- PROGRESO -->
<div id="progreso" class="section">
<div class="card">
<h2>üìä Herramientas para evaluar progreso</h2>

<div class="question">
<strong>1Ô∏è‚É£ Progreso relevante</strong>
<label><input type="checkbox" name="prog_tipo" value="Motor"> Motor</label>
<label><input type="checkbox" name="prog_tipo" value="Cognitivo"> Cognitivo</label>
<label><input type="checkbox" name="prog_tipo" value="Atenci√≥n"> Atenci√≥n / permanencia</label>
<label><input type="checkbox" name="prog_tipo" value="Autonom√≠a"> Autonom√≠a</label>
<label><input type="checkbox" name="prog_tipo" value="Otro"> Otro</label>
</div>

<div class="question">
<strong>2Ô∏è‚É£ Unidad de progreso</strong>
<label><input type="checkbox" name="prog_unidad" value="Menos ayuda"> Hace el movimiento con menos ayuda</label>
<label><input type="checkbox" name="prog_unidad" value="M√°s consistencia"> Lo repite con m√°s consistencia</label>
<label><input type="checkbox" name="prog_unidad" value="M√°s r√°pido"> Responde m√°s r√°pido</label>
<label><input type="checkbox" name="prog_unidad" value="M√°s tiempo"> Mantiene la actividad m√°s tiempo</label>
</div>

<div class="question">
<strong>3Ô∏è‚É£ Horizonte temporal</strong>
<label><input type="radio" name="prog_horizonte" value="Sesi√≥n"> En la misma sesi√≥n</label>
<label><input type="radio" name="prog_horizonte" value="Semanal"> Semana a semana</label>
<label><input type="radio" name="prog_horizonte" value="Mensual"> Mensualmente</label>
<label><input type="radio" name="prog_horizonte" value="Cierre"> Al cerrar un ciclo terap√©utico</label>
</div>

<div class="question">
<strong>4Ô∏è‚É£ Uso del progreso</strong>
<label><input type="checkbox" name="prog_uso" value="Ajustar terapia"> Ajustar la terapia</label>
<label><input type="checkbox" name="prog_uso" value="Justificar"> Justificar decisiones</label>
<label><input type="checkbox" name="prog_uso" value="Informar padres"> Informar a padres</label>
<label><input type="checkbox" name="prog_uso" value="Instituci√≥n"> Reportar a la instituci√≥n</label>
</div>

<div class="question">
<strong>5Ô∏è‚É£ Frustraci√≥n actual</strong>
<label><input type="checkbox" name="prog_frustracion" value="Subjetividad"> Subjetividad</label>
<label><input type="checkbox" name="prog_frustracion" value="Falta de tiempo"> Falta de tiempo</label>
<label><input type="checkbox" name="prog_frustracion" value="Falta de registros"> Falta de registros</label>
<label><input type="checkbox" name="prog_frustracion" value="Dif√≠cil explicar"> Dificultad para explicarlo</label>
</div>
</div>
</div>

<!-- FAMILIAS -->
<div id="familias" class="section">
<div class="card">
<h2>üë®‚Äçüë©‚Äçüëß Comunicaci√≥n con familias</h2>

<div class="question">
<strong>1Ô∏è‚É£ Momento cr√≠tico</strong>
<label><input type="checkbox" name="fam_momento" value="Inicio"> Inicio del proceso</label>
<label><input type="checkbox" name="fam_momento" value="Avance lento"> Avance lento</label>
<label><input type="checkbox" name="fam_momento" value="Retrocesos"> Retrocesos</label>
<label><input type="checkbox" name="fam_momento" value="Renovaci√≥n"> Renovaci√≥n de tratamiento</label>
</div>

<div class="question">
<strong>2Ô∏è‚É£ Tipo de evidencia</strong>
<label><input type="checkbox" name="fam_evidencia" value="Videos"> Videos</label>
<label><input type="checkbox" name="fam_evidencia" value="Im√°genes"> Im√°genes</label>
<label><input type="checkbox" name="fam_evidencia" value="Frases simples"> Frases simples</label>
<label><input type="checkbox" name="fam_evidencia" value="Antes / despu√©s"> Comparativos (antes / despu√©s)</label>
</div>

<div class="question">
<strong>3Ô∏è‚É£ Nivel de detalle</strong>
<label><input type="radio" name="fam_detalle" value="Muy simple"> Muy simple</label>
<label><input type="radio" name="fam_detalle" value="Resumen + ejemplo"> Resumen + ejemplo</label>
<label><input type="radio" name="fam_detalle" value="Detalle terap√©utico"> Detalle terap√©utico</label>
</div>

<div class="question">
<strong>4Ô∏è‚É£ Riesgos</strong>
<label><input type="checkbox" name="fam_riesgos" value="Malinterpretaciones"> Malinterpretaciones</label>
<label><input type="checkbox" name="fam_riesgos" value="Expectativas irreales"> Expectativas irreales</label>
<label><input type="checkbox" name="fam_riesgos" value="Falta constancia"> Falta de constancia</label>
<label><input type="checkbox" name="fam_riesgos" value="Conflictos"> Conflictos con la familia</label>
</div>

<div class="question">
<strong>5Ô∏è‚É£ Resultado ideal</strong>
<label><input type="checkbox" name="fam_resultado" value="Entienda"> Entienda el proceso</label>
<label><input type="checkbox" name="fam_resultado" value="Conf√≠e"> Conf√≠e m√°s</label>
<label><input type="checkbox" name="fam_resultado" value="Acompa√±e"> Acompa√±e en casa</label>
<label><input type="checkbox" name="fam_resultado" value="Contin√∫e"> Contin√∫e el tratamiento</label>
</div>
</div>
</div>

<button type="submit">Enviar respuestas</button>
</form>
</div>

<script>
/* Mostrar rama condicional */
document.querySelectorAll('input[name="root_choice"]').forEach(radio => {
  radio.addEventListener('change', () => {
    document.querySelectorAll('.section').forEach(s => s.style.display = 'none');

    if (radio.value.includes("movimiento")) document.getElementById("movimiento").style.display = "block";
    if (radio.value.includes("educativas")) document.getElementById("educativas").style.display = "block";
    if (radio.value.includes("progreso")) document.getElementById("progreso").style.display = "block";
    if (radio.value.includes("familias")) document.getElementById("familias").style.display = "block";

    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
});

/* ENV√çO A GOOGLE APPS SCRIPT */
const scriptURL = "https://script.google.com/macros/s/AKfycbwW3YLj8jFdhi5CQ8HGCIWlkyFyZkFm44XI5inYSgk5v2o6vDwk_av2CUbwGf9Oa3Girw/exec";

document.getElementById("surveyForm").addEventListener("submit", e => {
  e.preventDefault();

  const formData = new FormData(e.target);
  const data = {};

  for (const [key, value] of formData.entries()) {
    if (data[key]) {
      if (!Array.isArray(data[key])) data[key] = [data[key]];
      data[key].push(value);
    } else {
      data[key] = value;
    }
  }

  fetch(scriptURL, {
    method: "POST",
    body: JSON.stringify(data),
    headers: { "Content-Type": "application/json" }
  })
  .then(() => {
    alert("¬°Gracias! Tus respuestas fueron registradas.");
    e.target.reset();
    document.querySelectorAll(".section").forEach(s => s.style.display = "none");
  })
  .catch(err => {
    alert("Error al enviar. Intenta nuevamente.");
    console.error(err);
  });
});
</script>

</body>
</html>
